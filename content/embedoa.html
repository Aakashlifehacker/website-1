<script src="/static/openaccessbutton_widget.js"></script>
<script>
jQuery(document).ready(function() {
  $('.tryit').bind('click',function(e) {
    e.preventDefault();
    $('#oabutton_url').val($(this).html());
    setTimeout(function() {
      $('#oabutton_find').trigger('click');
    },500)
  });
  openaccessbutton_widget();

  if (window.location.host.indexOf('openaccessbutton.org') === -1 || window.location.host.indexOf('dev.openaccessbutton.org') !== -1) clogin.api = 'https://dev.api.cottagelabs.com/accounts';
  clogin.afterLogin = function() {
    $('#promptsignup').hide();
    var uid = clogin.user.account._id;
    $('.stickidin').html($('.stickidin').html().replace('openaccessbutton_widget()','openaccessbutton_widget({uid:' + uid + '})'));
  }
  clogin.login();
});
</script>

<!-- Start of openaccessbutton Zendesk Widget script -->
<script>/*<![CDATA[*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(e){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","openaccessbutton.zendesk.com");
/*]]>*/</script>
<!-- End of openaccessbutton Zendesk Widget script -->
<style>


  .focal{
    background-color: white;
    text-align: left;
    border-radius: 5px;
    padding: 20px;
    /*
    border-width: 1px;
    border-style: solid;
    border-color:#212f3f;
    */
  }

.innercolumns{
  width:100%;
  padding:10px;
  overflow: hidden;
}

.downloadbox {
  background-color: white;
  text-align: left;
  border-radius: 5px;
  /*
  border-width: 1px;
  border-style: solid;
  border-color:#212f3f;
  */
}

  .ill_system_content div:not(:target) {
    display: none;
  }

  .ill_system_content div:target {
    display: block;
  }

  /* Make the div big, so we would jump, if the JS was still broken */
  .ill_system_content div {
    height: 100%;
  }

</style>

<div class="container-fluid">


<div class="row">

  <div id="maininfo" class="col-md-6 col-md-offset-3">
    <h1 style="text-align:left; font-size:4em;">EmbedOA</h1>

    <h3>
      Make it easy to discover Open Access articles from your Interlibrary loan pages and Libguide. No coding skills required.
    </h3>

    <h2>Try it now</h2>

    <div id="openaccessbutton_widget"></div>

    <p style="margin-top:10px;">Don't have a article to hand? Try:
      <ol>
        <li>a DOI: <a class="tryit" href="#">10.1145/2908080.2908114</a></li>
        <li>a URL: <a class="tryit" href="#">http://journals.sagepub.com/doi/abs/10.1177/0037549715583150</a></li>
        <li>a title: <a class="tryit" href="#">Effect of Saxagliptin on Renal Outcomes in the SAVOR-TIMI 53 Trial</a></li>
        <!-- TODO: OR look at what an unsuccessful one looks like -->
      </ol>
    </p>

    <p>
      Checkout some examples from the librarians that inspired the tool <a href="http://libraryguides.centennialcollege.ca/openaccess" target="_blank">here</a> and <a href="http://libguides.bates.edu/c.php?g=634434&p=4448328" target="_blank">here</a>.
    </p>


       <h2>Get it for your page</h2>
       <p>
          You can install this in your webpage in just a few easy steps.
       </p>
        <div id="getit" class="focal">
        <div>
             <p style="float: left; margin: 6px 10px;">Get started by choosing your</p>
        </div>
           <div class="btn-group" >
                <button type="button"  class="btn btn-default dropdown-toggle" data-toggle="dropdown" style="border-width:2px; border-radius: 8px;">page type     <span class="caret"></span>
            </button>
            <ul class="dropdown-menu"  style="width: 100%;" role="menu">
                 <li><a class="chooseill" href="#libguide">LibGuide</a></li>
                 <li><a class="chooseill" href="#interlibraryloan">Interlibrary Loan page</a></li>
                 <li><a class="chooseill" href="#other">General webpage</a></li>
            </ul>
            </div>
        </div>
    </div>
    <div class="col-md-6">
      <div class="ill_system_content downloadbox">

        <!-- LIBGUIDE PAGE SECTION -->

        <div id="libguide" class="innercolumns">
          <h1 style="margin-top:40px">For LibGuides</h1>
          <ol>
            <li id="promptsignup">
              Please <a href="/account?next=/embed_oa#libguide" class="label label-info">sign up / sign in</a> first so we can customise this link for you and give you better service.
            </li>
            <li>In Libguides, create a new box (if needed)</li>
            <li>Choose to add "Media / Widget"</li>
            <li>Add a title to your widget, we suggest "Search for Open Access articles"</li>
            <li>Copy and paste the below into the box.</li>
            <pre class="stickidin">
&lt;script src="https://dev.openaccessbutton.org/static/openaccessbutton_widget.js"&gt;&lt;/script&gt;&lt;script&gt;jQuery(document).ready(function(){openaccessbutton_widget();});&lt;/script&gt;
&lt;div id="openaccessbutton_widget"&gt;&lt;/div&gt;
</pre>
            <p>It should look like this. </p><img src="/static/add_widget_embed_code.png" style="width:100%">
            <li>Youâ€™re done. Now try it with the examples shown! (Note, you may need to refresh the page). If anything is wrong, get in touch.</li>

<!-- TODO: include a pre-written email with a link to their page etc etc to make this easy for us -->
            <li>Time to tell everyone on campus!</li>
          </ol>
        </div>

<!-- ILL PAGE SECTION -->

        <div id="interlibraryloan" class="innercolumns">
          <h1 style="margin-top:40px">For Interlibary Loan</h1>

          <p class="alert alert-info">
            If you have any trouble getting the widget working in your page reach out and we'll lend a hand.
          </p>

<!-- TODO: Make a nice email -->

          <p>
            Save your patrons time, your library money, and help advance Open Access by helping patrons search for Open Access alternatives to paywalled papers without leaving the ILL pages.
          </p>
        <ol>
          <li id="promptsignup">
            Please <a href="/account?next=/embed_oa#libguide" class="label label-info">sign up / sign in</a> first so we can customise this widget for you and give you better service.
          </li>
          <li>
            To get started include the following in the source code of your page
          </li>
          <pre class="stickidin">
&lt;script src="https://dev.openaccessbutton.org/static/openaccessbutton_widget.js"&gt;&lt;/script&gt;&lt;script&gt;jQuery(document).ready(function(){openaccessbutton_widget();});&lt;/script&gt;
&lt;div id="openaccessbutton_widget"&gt;&lt;/div&gt;
</pre>
          <li>
            If it looks like the version on this page, you're done! However, if it doesn't show up you probably need to include the below.
          </li>
          <pre>
&lt;script src="https://static.cottagelabs.com/jquery-1.10.2.min.js"&gt;&lt;/script&gt;
</pre>
          <li>
            If you can now see something on the page, but it doesn't look right, add this.
          </li>
          <pre>
&lt;link rel="stylesheet" href="https://static.cottagelabs.com/bootstrap-3.0.3/css/bootstrap.min.css"&gt;
</pre>
          <li>
            You should now be good to go! You can control where the search widget gets displayed by moving
          </li>
            <pre>
&lt;div id="openaccessbutton_widget"&gt;&lt;/div&gt;
</pre>
          </ol>
        </div>

        <!-- GENERAL WEBPAGE SECTION -->

        <div id="other" class="innercolumns">
          <p>To install the widget you'll need to access the source code of the page you want it on.</p>
          <p>Step 1 (optional): Include the following links in the page:</p>
          <pre class="stickidin">
    &lt;script src="https://static.cottagelabs.com/jquery-1.10.2.min.js"&gt;&lt;/script&gt;
    &lt;link rel="stylesheet" href="https://static.cottagelabs.com/bootstrap-3.0.3/css/bootstrap.min.css"&gt;
    &lt;script src="https://openaccessbutton.org/static/openaccessbutton_widget.js"&gt;&lt;/script&gt;
    &lt;script&gt;jQuery(document).ready(function() { openaccessbutton_widget(); });&lt;/script&gt;
          </pre>

          <p>Step 2: If your site already includes jquery and twitter-bootstrap css, then all you need to include is:</p>
          <pre class="stickidin">
    &lt;script src="https://openaccessbutton.org/static/openaccessbutton_widget.js"&gt;&lt;/script&gt;&lt;script&gt;jQuery(document).ready(function(){openaccessbutton_widget();});&lt;/script&gt;
          </pre>

          <p>
            Step 3: To control where the search widget gets displayed, put the following on the page where you want it:</p>
            <pre>
    &lt;div id="openaccessbutton_widget"&gt;&lt;/div&gt;
            </pre>

          <p>You can also include it using an iframe (ignoring the above) using the following:</p>
    <!--

    <p>TODO change this example to using a URL to the live site, not dev, once ready to push to live. Just using a dev one so you can see it working now.</p>

    -->
          <pre>
    &lt;iframe src="https://dev.openaccessbutton.org/static/iframed.html" width="100%" height="50"&gt;&lt;/iframe&gt;
          </pre>

          </div>
        </div>

      </div>
    </div>

<!-- end of download box -->

</div>
</div>
<!-- powers tabs -->

<script>
// Stop href="#hashtarget" links jumping around the page
var hashLinks = document.querySelectorAll("a[href^='#']");
[].forEach.call(hashLinks, function (link) {
link.addEventListener("click", function (event) {
  event.preventDefault();
  history.pushState({}, "", link.href);
  history.pushState({}, "", link.href);
  history.back();
});
});
</script>

<script>
jQuery(document).ready(function() {

  $('.chooseill').bind('click',function() { $('#maininfo').removeClass('col-md-offset-3'); });
  if (window.location.hash) $('#maininfo').removeClass('col-md-offset-3');

  $('.chooseill').bind('click',function() { $('#getit').removeClass('focal'); });
  if (window.location.hash) $('#getit').removeClass('focal');

  var mobileCheck = function() {
    // checks if browser is a mobile or tablet browser
    var check = false;
    (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
    return check;
  };
  var mobile = mobileCheck();
  var b = '.bk';
  if (navigator.userAgent.match(/chrome/i) && !navigator.userAgent.match(/edge/i) && !mobile) b = '.ch';
  if (navigator.userAgent.match(/firefox/i) && !mobile) b = '.ff';
  if (mobile) b = '.mob';
  $('.dl').hide();
  $('.dl'+b).show();

});
</script>

<!-- Code to pull in alpha release banner -->
<script src="https://www.w3schools.com/lib/w3.js"></script>
<div w3-include-html="/static/alpha.html"></div>

<script>
w3.includeHTML();
</script>
